# План разработки корпоративного AI-портала

## Этап 1: MVP и основной функционал (Текущий этап)

**Цель:** Быстро запустить рабочий прототип с базовыми функциями.

1.  **Настройка окружения:**
    -   Инициализация React-приложения (Vite, TypeScript).
    -   Подключение Supabase для базы данных и аутентификации.
2.  **Реализация чат-интерфейса:**
    -   Базовый UI для отображения диалога.
    -   Форма для ввода сообщений.
    -   Прямая интеграция с AI-провайдерами (OpenAI, Gemini) с клиентской стороны.
    -   **API ключи временно хранятся в `.env.local` на клиенте.**
3.  **Управление доступом (V1):**
    -   Внедрение ролей пользователей (`admin`, `user`).
    -   Реализация системы лимитов на количество запросов.
    -   Создание базовой панели администратора для управления пользователями и их лимитами.

## Этап 2: Безопасность и прокси-сервер

**Цель:** Обеспечить безопасность и масштабируемость системы.

1.  **Разработка прокси-сервера:**
    -   Создание Node.js (Express) приложения.
    -   Размещение на отдельном VPS.
2.  **Перенос логики на сервер:**
    -   **Все API ключи AI-провайдеров переносятся с клиента на прокси-сервер.**
    -   Клиентское приложение обращается не напрямую к AI, а к прокси-серверу.
    -   Прокси-сервер выполняет запросы к AI-провайдерам.
3.  **Централизованная проверка лимитов:**
    -   Логика проверки лимитов переносится на прокси-сервер, который обращается к БД Supabase.

## Этап 3: Расширение функционала

**Цель:** Добавить продвинутые функции и аналитику.

1.  **Статистика и аналитика:**
    -   Разработка дашбордов для администраторов.
    -   Визуализация использования токенов, стоимости запросов по пользователям и отделам.
2.  **Управление моделями:**
    -   Гибкая настройка доступа к разным AI-моделям для разных групп пользователей.
3.  **Улучшение UX/UI:**
    -   Доработка интерфейса на основе обратной связи.
